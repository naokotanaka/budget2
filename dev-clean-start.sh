#!/bin/bash
# é–‹ç™ºç’°å¢ƒã‚¯ãƒªãƒ¼ãƒ³ã‚¹ã‚¿ãƒ¼ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

echo "ğŸ”„ é–‹ç™ºç’°å¢ƒã‚’ã‚¯ãƒªãƒ¼ãƒ³ãªçŠ¶æ…‹ã§èµ·å‹•ã—ã¾ã™..."

# æ—¢å­˜ãƒ—ãƒ­ã‚»ã‚¹ã®åœæ­¢
echo "ğŸ“‹ æ—¢å­˜ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢ä¸­..."
pkill -f "vite dev" 2>/dev/null || true
lsof -ti:3002 2>/dev/null | xargs kill -9 2>/dev/null || true

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
echo "ğŸ—‘ï¸ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ä¸­..."
rm -rf node_modules/.vite 2>/dev/null || true
rm -rf .svelte-kit 2>/dev/null || true

# å°‘ã—å¾…æ©Ÿ
sleep 2

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
echo "ğŸš€ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ä¸­..."
npm run dev