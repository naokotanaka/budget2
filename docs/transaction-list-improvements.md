# 取引一覧画面の機能改善リスト

## 実装優先順位（易→難）

### 🟢 優先度1: すぐ実装できて効果大

#### 1. ヘッダーでのソート機能（最大3条件）
- 各列ヘッダークリックでソート
- Shiftキー押しながらクリックで複数条件追加
- ソート順序番号と方向の表示
- **デフォルト：日付順（新しい順）**

#### 2. キーボードショートカット
- 上下矢印: 行移動
- Space: チェック切り替え
- Enter: 詳細パネル開閉
- Ctrl+A: 全選択
- Delete: 選択した割当を解除

#### 3. 表示の最適化
- コンパクト表示モード（より多くの行を表示）
- 金額の3桁区切り表示
- 長いテキストのツールチップ表示改善

### 🟡 優先度2: 少し工数かかるが重要

#### 4. 一括操作の拡充
- 全選択/解除ボタン
- フィルター結果の全選択
- 同一勘定科目の取引を一括選択
- 同一部門の取引を一括選択
- 選択した取引の割当を一括解除

#### 5. 助成金対象外の処理
- 「助成金対象外」カテゴリを追加
- 対象外取引への一括割当機能
- 対象外取引を別扱いで管理

#### 6. ページネーション
- 表示件数切り替え（50/100/200/全件）
- 現在の表示範囲の明示（例：1-50件 / 全500件）

### 🔵 優先度3: 実装に時間かかるが便利

#### 7. ヘッダーでのフィルター機能
- 各列ヘッダーにフィルターアイコン追加
- **助成金ステータス**: 「完了」「報告済み」はデフォルトで非表示
- **勘定科目**: 複数選択可能なチェックボックス（重要）
- **部門**: 複数選択可能なチェックボックス（重要）
- **品目**: 複数選択可能なチェックボックス（重要）
- **金額範囲**: 最小〜最大の入力欄
- **割当状況**: 未割当/部分割当/完全割当

#### 8. 列表示のカスタマイズ
- 必要な列のみ表示/非表示切り替え
- 列順序の入れ替え（ドラッグ&ドロップ）
- 設定をlocalStorageに保存

### 🔴 優先度4: 複雑だが長期的に有用

#### 9. フィルター設定の保存機能
- フィルター条件に名前を付けて保存（localStorage使用）
- 保存済みフィルターをドロップダウンから選択
- よく使う条件組み合わせを簡単に呼び出し
- 例：「事業費のみ」「管理費のみ」「高額取引」など

#### 10. データエクスポート
- 現在の表示内容（フィルター適用済み）をCSVエクスポート
- 助成金報告書用フォーマットでエクスポート
- 予算消化状況レポートのエクスポート

## 実装状況

- [ ] 1. ヘッダーでのソート機能
- [ ] 2. キーボードショートカット
- [ ] 3. 表示の最適化
- [ ] 4. 一括操作の拡充
- [ ] 5. 助成金対象外の処理
- [ ] 6. ページネーション
- [ ] 7. ヘッダーでのフィルター機能
- [ ] 8. 列表示のカスタマイズ
- [ ] 9. フィルター設定の保存機能
- [ ] 10. データエクスポート

## 更新履歴

- 2025-01-16: 初版作成、実装優先順位を設定